<html lang="ko" class="scroll-top scroll-apex" translate="no">
<meta charset="utf-8">
  <head>
    <style>
      .async-hide {
        opacity: 0 !important;
      }
    </style>

    <title>리워드 선택</title>
    <link href="/css/order/order_step1.css" />
    <link
      rel="manifest"
      href="https://www.wadiz.kr/resources/static/manifest.json" />
    <link
      rel="shortcut icon"
      href="https://static.wadiz.kr/assets/icon/favicon.ico" />
    <link
      rel="icon"
      href="https://static.wadiz.kr/assets/icon/favicon-16x16.png"
      sizes="16x16"
      type="image/png" />
    <link
      rel="icon"
      href="https://static.wadiz.kr/assets/icon/favicon-32x32.png"
      sizes="32x32"
      type="image/png" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.weglot.com/weglot.min.css?v=4" />

    <link
      rel="stylesheet"
      href="https://static.wadiz.kr/static/web/wui.css?cb9a5d5c" />
    <link
      rel="stylesheet"
      href="https://static.wadiz.kr/static/web/css/vendor.6b6b0127.chunk.css" />
    <link
      rel="stylesheet"
      href="https://static.wadiz.kr/static/web/common.css?d165b488" />
    <link
      rel="stylesheet"
      href="https://static.wadiz.kr/static/web/layout.css?0b839e26" />
    <script
      type="text/javascript"
      src="https://static.wadiz.kr/static/web/polyfill.js?77e7221d"></script>
    <script
      type="text/javascript"
      src="https://static.wadiz.kr/static/web/wui.js?4163c47c"></script>
    <script
      type="text/javascript"
      src="https://static.wadiz.kr/static/web/vendor.js?e91df577"></script>
    <script
      type="text/javascript"
      src="https://static.wadiz.kr/static/web/common.js?87db9043"></script>
    <script
      type="text/javascript"
      src="https://static.wadiz.kr/static/web/layout.js?8a28804b"></script>

    <script
      type="text/javascript"
      src="https://www.wadiz.kr/resources/static/js/wCommon.js?ver=20201111"></script>

    <meta name="wadiz-app-hidden-header" content="yes" />
    <!-- E: Common Meta -->

    <link
      href="https://cdn.wadiz.kr/resources/static/css/wlayout.css?v=201803151400"
      rel="stylesheet" />

    <link
      rel="stylesheet"
      href="https://www.wadiz.kr/resources/static/css/common.css?v=20201105" />
    <link
      rel="stylesheet"
      href="https://www.wadiz.kr/resources/static/css/wpurchase_reward.css?v=20220901" />
    <!-- 리워드결제페이지 -->

    <link
      rel="stylesheet"
      href="https://static.wadiz.kr/reward/payments.562cdee9.css" />

    <link
      rel="stylesheet"
      href="https://static.wadiz.kr/reward/reward-product.cfd21a1c.css" />

    <script
      type="text/javascript"
      src="https://cdn.wadiz.kr/resources/static/js/wMotion.js?v=20190222"></script>

    <script
      type="text/javascript"
      src="https://www.wadiz.kr/resources/static/js/wCommon.js?ver=20201111"></script>
    <link
      rel="stylesheet"
      href="https://static.wadiz.kr/static/floating-buttons/main.5e88b41b.css" />

    <link rel="stylesheet" href="https://use.fontawesome.com/7f85a56ba4.css" />
  </head>
  <body>
    <div id="page-container">
      <div class="black-bg-wrap" style="display: none"></div>

      <div id="wz-header">
        <div th:replace="/fragment/header__1TR2D.html :: header"></div>

      </div>

      <script>
        window.dispatchEvent(
          new CustomEvent('WadizHeaderLoaded', {
            detail: {
              element: document.getElementById('wz-header'),
            },
          })
        );
      </script>

      <form id="forwardForm" method="get">
        <input type="hidden" id="returnURL" name="returnURL" />
      </form>
      <input type="hidden" id="sessionLoginCheck" value="true" />

      <div id="newContainer">
        <div id="wPurchaseWrap">
          <div class="wpurchase-title">
            <h2>
              개발비 1.5억ㅣ현대리바트 기술력 담아낸 3만원대 발 받침대
              Comfy<span class="name"
                ><em
                  style="
                    background-image: url(https://cdn.wadiz.kr/wwwwadiz/green001/2023/0208/20230208171549898_158604.png/wadiz/resize/600/format/jpg/quality/80/optimize);
                  "></em
                >현대리바트</span
              >
            </h2>
          </div>
          <div class="wpurchase-wrap">
            <div class="wpurchase-step">
              <ol>
                <li class="active">
                  <em>리워드<br />선택</em>
                </li>
                <li><em>결제 예약</em></li>
                <li><em>소문내기</em></li>
              </ol>
            </div>
            <form name="purchaseForm" id="purchaseForm" method="post">
              <input
                type="hidden"
                name="secureStateBagKey"
                value="NTZjMTkwNTItMTk0Mi00NDRjLTg2ZDUtNmE1MDBjZmYyMTYxTVdaa09UbGhOelF0TjJNME5pMDBNalJrTFRrNU56VXRZemt4WXpjM01UUm1PVFpq" />
              <input type="hidden" name="campaignId" value="158604" />
              <input type="hidden" name="fundingPrice" value="42000" />

              <div class="wpurchase-reward">
                <div class="top-area">
                  <h3><em>리워드 선택</em></h3>
                </div>
                <!-- S : 서포터클럽 가입 -->
                <div
                  id="supporter-club-subscribe-app"
                  data-is-all-free-shipping-cost="true">
                  <div
                    role="button"
                    class="FundingSupporterClubSubscriptionContainer_subscriptionButton__2HTma">
                    5초 가입, 매달 쿠폰받고 참여하세요.<svg
                      viewBox="0 0 40 40"
                      focusable="false"
                      role="presentation"
                      class="withIcon_icon__2cPeY FundingSupporterClubSubscriptionContainer_chevron__1mWFS"
                      aria-hidden="true">
                      <path
                        d="M28 20L15 33l-1.4-1.4L25.2 20 13.6 8.4 15 7l13 13z"></path>
                    </svg>
                  </div>
                </div>
                <div
                  id="reward-product-app"
                  data-campaign-id="158604"
                  data-selected-reward-id="411146">
                  <ul class="RewardProductList_container__2hIAB">
                    <li class="RewardProductList_list__2oOvi">
                      <section class="RewardProductItem_container__1wZBW">
                        <label
                          class="RewardProductItem_label__2t2Wd"
                          for="checkbox-reward-product-411146"
                          ><div class="RewardProductItem_price__2oEJ1">
                            <label
                              for="checkbox-reward-product-411146"
                              class="Checkbox_checkbox__2e0Lm Checkbox_md__3Dc59 RewardProductItem_check__28u2o"
                              ><input
                                data-reward-id="411146"
                                id="checkbox-reward-product-411146"
                                type="checkbox"
                                class="Checkbox_input__YDTIS" /><span
                                class="Checkbox_icon__2obcO"
                                aria-hidden="true"
                                ><svg
                                  viewBox="0 0 16 2"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_removeIcon__35rE-"
                                  aria-hidden="true">
                                  <path
                                    fill-rule="evenodd"
                                    d="M0 0h16v2H0z"></path></svg
                                ><svg
                                  viewBox="0 0 48 48"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_checkIcon__2wLzE"
                                  aria-hidden="true">
                                  <path
                                    d="M18 39.6L4.8 26.4l3.36-3.36L18 32.76l21.84-21.72 3.36 3.36z"></path></svg></span
                              ><span
                                class="Checkbox_content__HOXzE"></span></label
                            ><span>42,000</span>&nbsp;원
                          </div>
                          <div class="RewardProductItem_content__Pw7qB">
                            <div class="RewardProductItem_title__en2gj">
                              [얼리버드] COMFY 2단 쿠션 발받침대 1개
                              <div class="RewardProductItem_remain__XDQPL">
                                <span class="RewardProductItem_limit__5TztV"
                                  >제한수량 2800개</span
                                ><span class="RewardProductItem_stock__5qZys"
                                  >790개 남음</span
                                >
                              </div>
                            </div>
                            <div class="RewardProductItem_description__1Eenu">
                              ★ 얼리버드 한정수량 혜택 ★<span
                                ><br />정가 대비 39% 혜택 + 무료 배송</span
                              ><span><br /></span
                              ><span><br />COMFY 2단 쿠션 발받침대</span
                              ><span
                                ><br />그레이-그레이, 그레이-그린, 화이트-베이지
                                中 택1</span
                              >
                            </div>
                          </div>
                          <div class="RewardProductItem_delivery__3aef7">
                            <div class="RewardProductDelivery_container__1VhfG">
                              <div class="RewardProductDelivery_content__2MqBD">
                                <i
                                  class="RewardProductDelivery_icon__31IE8"
                                  aria-hidden="true"></i
                                ><span>무료배송</span
                                ><span
                                  class="RewardProductDelivery_divide__36XQt"
                                  >|</span
                                ><span>2023년 03월&nbsp;</span
                                ><span>말 (21~말일) 리워드 제공 예정</span>
                              </div>
                            </div>
                          </div></label
                        >
                        <div class="RewardProductItem_option__3BtOP" style="display: none">
                          <div class="SelectMenu_container__vXzGW">
                            <button
                              type="button"
                              class="SelectMenu_title__2__qX"
                              aria-label="확장 버튼"
                              aria-expanded="false">
                              <span class="SelectMenu_placeholder__3X3SL"
                                >색상 선택</span
                              ><svg
                                viewBox="0 0 32 32"
                                focusable="false"
                                role="presentation"
                                class="withIcon_icon__2cPeY"
                                aria-hidden="true">
                                <path
                                  d="M16 22.4L5.6 12l1.12-1.12L16 20.16l9.28-9.28L26.4 12 16 22.4z"></path>
                              </svg>
                            </button>
                            <div class="SelectMenu_content__2rDch" style="display: none">
                              <div class="SelectMenu_children__WyY4w">
                                <ul>
                                  <li class="RewardProductOption_list__3yoqJ">
                                    <div class="RewardProductOptionItem_container__1yGSJ">
                                      <span class="RewardProductOptionItem_title__ZuGtV">토마토레드 4</span>
                                    </div>
                                  </li>
                                  <li class="RewardProductOption_list__3yoqJ">
                                    <div class="RewardProductOptionItem_container__1yGSJ">
                                      <span class="RewardProductOptionItem_title__ZuGtV">올리브그린 4</span>
                                    </div>
                                  </li>
                                  <li class="RewardProductOption_list__3yoqJ">
                                    <div class="RewardProductOptionItem_container__1yGSJ">
                                      <span class="RewardProductOptionItem_title__ZuGtV">토마토레드 3 + 올리브그린 1</span>
                                    </div>
                                  </li>
                                  <li class="RewardProductOption_list__3yoqJ">
                                    <div class="RewardProductOptionItem_container__1yGSJ">
                                      <span class="RewardProductOptionItem_title__ZuGtV">토마토레드 2 + 올리브그린 2</span>
                                    </div>
                                  </li>
                                  <li class="RewardProductOption_list__3yoqJ">
                                    <div class="RewardProductOptionItem_container__1yGSJ">
                                      <span class="RewardProductOptionItem_title__ZuGtV">토마토레드 1 + 올리브그린 3</span>
                                    </div>
                                  </li>
                                </ul>
                              </div>
                            </div>
                          </div>
                        </div>
                        <ul>

                        </ul>
                        <hr
                          class="Divider_divider__2FemR Divider_horizontal__3HbEu Divider_lightBG__HS5Rl Divider_spacing1__Jn7xQ Divider_caption2__1wUp- RewardProductItem_divider__1MITY" />
                        <input
                          type="hidden"
                          id="amountRw411146"
                          value="42000" /><input
                          type="hidden"
                          id="remainCnt411146"
                          value="790" /><input
                          type="hidden"
                          id="limitCnt411146"
                          value="2800" /><input
                          type="hidden"
                          id="qty411146"
                          value="1" /><input
                          type="hidden"
                          id="optionType411146"
                          value="SELECT" /><input
                          type="hidden"
                          id="limitQtyUnitType411146"
                          value="OPTION" /><input
                          type="hidden"
                          id="isOption411146"
                          value="true" /><input
                          type="hidden"
                          id="cardLength411146"
                          value="1" /><input
                          type="hidden"
                          id="rewardOptions411146"
                          value='[{"rewardOptionId":127464,"optionValue":"다크그레이-다크그레이","quantity":1}]' /><input
                          type="hidden"
                          id="optionMemos411146"
                          value='["다크그레이-다크그레이 (1개)"]' />
                      </section>
                    </li>
                    <li class="RewardProductList_list__2oOvi">
                      <section class="RewardProductItem_container__1wZBW">
                        <label
                          class="RewardProductItem_label__2t2Wd"
                          for="checkbox-reward-product-411150"
                          ><div class="RewardProductItem_price__2oEJ1">
                            <label
                              for="checkbox-reward-product-411150"
                              class="Checkbox_checkbox__2e0Lm Checkbox_md__3Dc59 RewardProductItem_check__28u2o"
                              ><input
                                data-reward-id="411150"
                                id="checkbox-reward-product-411150"
                                type="checkbox"
                                class="Checkbox_input__YDTIS" /><span
                                class="Checkbox_icon__2obcO"
                                aria-hidden="true"
                                ><svg
                                  viewBox="0 0 16 2"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_removeIcon__35rE-"
                                  aria-hidden="true">
                                  <path
                                    fill-rule="evenodd"
                                    d="M0 0h16v2H0z"></path></svg
                                ><svg
                                  viewBox="0 0 48 48"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_checkIcon__2wLzE"
                                  aria-hidden="true">
                                  <path
                                    d="M18 39.6L4.8 26.4l3.36-3.36L18 32.76l21.84-21.72 3.36 3.36z"></path></svg></span
                              ><span
                                class="Checkbox_content__HOXzE"></span></label
                            ><span>78,000</span>&nbsp;원
                          </div>
                          <div class="RewardProductItem_content__Pw7qB">
                            <div class="RewardProductItem_title__en2gj">
                              [얼리버드] COMFY 2단 쿠션 발받침대 2개 SET
                              <div class="RewardProductItem_remain__XDQPL">
                                <span class="RewardProductItem_limit__5TztV"
                                  >제한수량 1060개</span
                                ><span class="RewardProductItem_stock__5qZys"
                                  >70개 남음</span
                                >
                              </div>
                            </div>
                            <div class="RewardProductItem_description__1Eenu">
                              ★ 슈퍼 얼리버드 단품 동일가 혜택가 ★<span
                                ><br />정가 대비 43% 혜택 + 무료 배송</span
                              ><span><br /></span
                              ><span><br />COMFY 2단 쿠션 발받침대</span
                              ><span
                                ><br />그레이-그레이 2개 SET, 그레이-그린 2개
                                SET, 화이트-베이지 2개 中 택1</span
                              >
                            </div>
                          </div>
                          <div class="RewardProductItem_delivery__3aef7">
                            <div class="RewardProductDelivery_container__1VhfG">
                              <div class="RewardProductDelivery_content__2MqBD">
                                <i
                                  class="RewardProductDelivery_icon__31IE8"
                                  aria-hidden="true"></i
                                ><span>무료배송</span
                                ><span
                                  class="RewardProductDelivery_divide__36XQt"
                                  >|</span
                                ><span>2023년 03월&nbsp;</span
                                ><span>말 (21~말일) 리워드 제공 예정</span>
                              </div>
                            </div>
                          </div></label
                        >
                        <div class="RewardProductItem_option__3BtOP" style="display: none">
                          <div class="SelectMenu_container__vXzGW">
                            <button
                              type="button"
                              class="SelectMenu_title__2__qX"
                              aria-label="확장 버튼"
                              aria-expanded="false">
                              <span class="SelectMenu_placeholder__3X3SL"
                                >색상 선택</span
                              ><svg
                                viewBox="0 0 32 32"
                                focusable="false"
                                role="presentation"
                                class="withIcon_icon__2cPeY"
                                aria-hidden="true">
                                <path
                                  d="M16 22.4L5.6 12l1.12-1.12L16 20.16l9.28-9.28L26.4 12 16 22.4z"></path>
                              </svg>
                            </button>
                          </div>
                        </div>
                        <hr
                          class="Divider_divider__2FemR Divider_horizontal__3HbEu Divider_lightBG__HS5Rl Divider_spacing1__Jn7xQ Divider_caption2__1wUp- RewardProductItem_divider__1MITY" />
                        <input
                          type="hidden"
                          id="amountRw411150"
                          value="78000" /><input
                          type="hidden"
                          id="remainCnt411150"
                          value="70" /><input
                          type="hidden"
                          id="limitCnt411150"
                          value="1060" /><input
                          type="hidden"
                          id="qty411150"
                          value="0" /><input
                          type="hidden"
                          id="optionType411150"
                          value="SELECT" /><input
                          type="hidden"
                          id="limitQtyUnitType411150"
                          value="OPTION" /><input
                          type="hidden"
                          id="isOption411150"
                          value="true" /><input
                          type="hidden"
                          id="cardLength411150"
                          value="0" />
                      </section>
                    </li>
                    <li class="RewardProductList_list__2oOvi">
                      <section class="RewardProductItem_container__1wZBW">
                        <label
                          class="RewardProductItem_label__2t2Wd"
                          for="checkbox-reward-product-411145"
                          ><div class="RewardProductItem_price__2oEJ1">
                            <label
                              for="checkbox-reward-product-411145"
                              class="Checkbox_checkbox__2e0Lm Checkbox_md__3Dc59 RewardProductItem_check__28u2o"
                              ><input
                                data-reward-id="411145"
                                id="checkbox-reward-product-411145"
                                type="checkbox"
                                class="Checkbox_input__YDTIS" /><span
                                class="Checkbox_icon__2obcO"
                                aria-hidden="true"
                                ><svg
                                  viewBox="0 0 16 2"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_removeIcon__35rE-"
                                  aria-hidden="true">
                                  <path
                                    fill-rule="evenodd"
                                    d="M0 0h16v2H0z"></path></svg
                                ><svg
                                  viewBox="0 0 48 48"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_checkIcon__2wLzE"
                                  aria-hidden="true">
                                  <path
                                    d="M18 39.6L4.8 26.4l3.36-3.36L18 32.76l21.84-21.72 3.36 3.36z"></path></svg></span
                              ><span
                                class="Checkbox_content__HOXzE"></span></label
                            ><span>339,000</span>&nbsp;원
                          </div>
                          <div class="RewardProductItem_content__Pw7qB">
                            <div class="RewardProductItem_title__en2gj">
                              [슈퍼얼리버드] COMFY 2단 쿠션발받침대 + 테크닉의자
                              SET
                              <div class="RewardProductItem_remain__XDQPL">
                                <span class="RewardProductItem_limit__5TztV"
                                  >제한수량 30개</span
                                ><span class="RewardProductItem_stock__5qZys"
                                  >20개 남음</span
                                >
                              </div>
                            </div>
                            <div class="RewardProductItem_description__1Eenu">
                              ★ 슈퍼 얼리버드 한정 테크닉의자 세트 할인 (27만원
                              할인) ★<span
                                ><br />정가 대비 43% 혜택 + 무료 배송+의자 무료
                                설치</span
                              ><span><br /></span
                              ><span
                                ><br />COMFY 2단 쿠션 발받침대
                                그레이-그레이1개+</span
                              ><span
                                ><br />테크닉의자 싱글헤드형 다크 네이비 1개
                                SET</span
                              >
                            </div>
                          </div>
                          <div class="RewardProductItem_delivery__3aef7">
                            <div class="RewardProductDelivery_container__1VhfG">
                              <div class="RewardProductDelivery_content__2MqBD">
                                <i
                                  class="RewardProductDelivery_icon__31IE8"
                                  aria-hidden="true"></i
                                ><span>무료배송</span
                                ><span
                                  class="RewardProductDelivery_divide__36XQt"
                                  >|</span
                                ><span>2023년 03월&nbsp;</span
                                ><span>말 (21~말일) 리워드 제공 예정</span>
                              </div>
                            </div>
                          </div></label
                        >
                        <hr
                          class="Divider_divider__2FemR Divider_horizontal__3HbEu Divider_lightBG__HS5Rl Divider_spacing1__Jn7xQ Divider_caption2__1wUp- RewardProductItem_divider__1MITY" />
                      </section>
                    </li>
                    <li
                      class="RewardProductList_list__2oOvi RewardProductList_disabled__14_9B"
                      disabled="">
                      <section class="RewardProductItem_container__1wZBW">
                        <label
                          class="RewardProductItem_label__2t2Wd"
                          for="checkbox-reward-product-411140"
                          ><div class="RewardProductItem_price__2oEJ1">
                            <label
                              for="checkbox-reward-product-411140"
                              class="Checkbox_checkbox__2e0Lm Checkbox_md__3Dc59 RewardProductItem_check__28u2o"
                              ><input
                                data-reward-id="411140"
                                id="checkbox-reward-product-411140"
                                type="checkbox"
                                class="Checkbox_input__YDTIS" /><span
                                class="Checkbox_icon__2obcO"
                                aria-hidden="true"
                                ><svg
                                  viewBox="0 0 16 2"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_removeIcon__35rE-"
                                  aria-hidden="true">
                                  <path
                                    fill-rule="evenodd"
                                    d="M0 0h16v2H0z"></path></svg
                                ><svg
                                  viewBox="0 0 48 48"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_checkIcon__2wLzE"
                                  aria-hidden="true">
                                  <path
                                    d="M18 39.6L4.8 26.4l3.36-3.36L18 32.76l21.84-21.72 3.36 3.36z"></path></svg></span
                              ><span
                                class="Checkbox_content__HOXzE"></span></label
                            ><span>39,000</span>&nbsp;원
                          </div>
                          <div class="RewardProductItem_content__Pw7qB">
                            <div class="RewardProductItem_title__en2gj">
                              [슈퍼 얼리버드] COMFY 2단 쿠션 발받침대 1개
                              <div class="RewardProductItem_remain__XDQPL">
                                <span
                                  class="RewardProductItem_limit__5TztV RewardProductItem_strikeThrough__1xBjq"
                                  >제한수량 300개</span
                                ><span
                                  class="RewardProductItem_stock__5qZys RewardProductItem_soldOut__1Ih2U"
                                  >마감</span
                                >
                              </div>
                            </div>
                            <div class="RewardProductItem_description__1Eenu">
                              ★ 슈퍼 얼리버드 한정수량 혜택 ★<span
                                ><br />정가 대비 43% 혜택 + 무료 배송</span
                              ><span><br /></span
                              ><span><br />COMFY 2단 쿠션 발받침대</span
                              ><span
                                ><br />그레이-그레이, 그레이-그린, 화이트-베이지
                                中 택1</span
                              >
                            </div>
                          </div>
                          <div class="RewardProductItem_delivery__3aef7">
                            <div class="RewardProductDelivery_container__1VhfG">
                              <div class="RewardProductDelivery_content__2MqBD">
                                <i
                                  class="RewardProductDelivery_icon__31IE8"
                                  aria-hidden="true"></i
                                ><span>무료배송</span
                                ><span
                                  class="RewardProductDelivery_divide__36XQt"
                                  >|</span
                                ><span>2023년 03월&nbsp;</span
                                ><span>말 (21~말일) 리워드 제공 예정</span>
                              </div>
                            </div>
                          </div></label
                        >
                        <div
                          class="RewardProductItem_overlaySoldOut__2uTEC"></div>
                        <hr
                          class="Divider_divider__2FemR Divider_horizontal__3HbEu Divider_lightBG__HS5Rl Divider_spacing1__Jn7xQ Divider_caption2__1wUp- RewardProductItem_divider__1MITY" />
                      </section>
                    </li>
                    <li
                      class="RewardProductList_list__2oOvi RewardProductList_disabled__14_9B"
                      disabled="">
                      <section class="RewardProductItem_container__1wZBW">
                        <label
                          class="RewardProductItem_label__2t2Wd"
                          for="checkbox-reward-product-411143"
                          ><div class="RewardProductItem_price__2oEJ1">
                            <label
                              for="checkbox-reward-product-411143"
                              class="Checkbox_checkbox__2e0Lm Checkbox_md__3Dc59 RewardProductItem_check__28u2o"
                              ><input
                                data-reward-id="411143"
                                id="checkbox-reward-product-411143"
                                type="checkbox"
                                class="Checkbox_input__YDTIS" /><span
                                class="Checkbox_icon__2obcO"
                                aria-hidden="true"
                                ><svg
                                  viewBox="0 0 16 2"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_removeIcon__35rE-"
                                  aria-hidden="true">
                                  <path
                                    fill-rule="evenodd"
                                    d="M0 0h16v2H0z"></path></svg
                                ><svg
                                  viewBox="0 0 48 48"
                                  focusable="false"
                                  role="presentation"
                                  class="withIcon_icon__2cPeY Checkbox_checkIcon__2wLzE"
                                  aria-hidden="true">
                                  <path
                                    d="M18 39.6L4.8 26.4l3.36-3.36L18 32.76l21.84-21.72 3.36 3.36z"></path></svg></span
                              ><span
                                class="Checkbox_content__HOXzE"></span></label
                            ><span>75,000</span>&nbsp;원
                          </div>
                          <div class="RewardProductItem_content__Pw7qB">
                            <div class="RewardProductItem_title__en2gj">
                              [슈퍼 얼리버드] COMFY 2단 쿠션 발받침대 2개 SET
                              <div class="RewardProductItem_remain__XDQPL">
                                <span
                                  class="RewardProductItem_limit__5TztV RewardProductItem_strikeThrough__1xBjq"
                                  >제한수량 90개</span
                                ><span
                                  class="RewardProductItem_stock__5qZys RewardProductItem_soldOut__1Ih2U"
                                  >마감</span
                                >
                              </div>
                            </div>
                            <div class="RewardProductItem_description__1Eenu">
                              ★ 슈퍼 얼리버드 한정수량 혜택 ★<span
                                ><br />정가 대비 46% 혜택 + 무료 배송</span
                              ><span><br /></span
                              ><span><br />COMFY 2단 쿠션 발받침대</span
                              ><span
                                ><br />그레이-그레이 2개 SET, 그레이-그린 2개
                                SET, 화이트-베이지 2개 中 택1</span
                              >
                            </div>
                          </div>
                          <div class="RewardProductItem_delivery__3aef7">
                            <div class="RewardProductDelivery_container__1VhfG">
                              <div class="RewardProductDelivery_content__2MqBD">
                                <i
                                  class="RewardProductDelivery_icon__31IE8"
                                  aria-hidden="true"></i
                                ><span>무료배송</span
                                ><span
                                  class="RewardProductDelivery_divide__36XQt"
                                  >|</span
                                ><span>2023년 03월&nbsp;</span
                                ><span>말 (21~말일) 리워드 제공 예정</span>
                              </div>
                            </div>
                          </div></label
                        >
                        <div
                          class="RewardProductItem_overlaySoldOut__2uTEC"></div>
                        <hr
                          class="Divider_divider__2FemR Divider_horizontal__3HbEu Divider_lightBG__HS5Rl Divider_spacing1__Jn7xQ Divider_caption2__1wUp- RewardProductItem_divider__1MITY" />
                      </section>
                    </li>
                  </ul>
                </div>
                <!-- E : 서포터클럽 가입 -->
              </div>

              <div class="wpurchase-donation">
                <h3>
                  <em>후원금 더하기 <span>(선택)</span></em>
                </h3>
                <div class="donation-wrap">
                  <p class="sub-text">
                    후원금을 더하여 참여할 수 있습니다. 추가 후원금을
                    입력하시겠습니까?
                  </p>
                  <p class="input-area">
                    <input
                      type="hidden"
                      id="addDonation"
                      name="addDonation"
                      value="0" />
                  </p>
                  <div class="wz inline-block input">
                    <input
                      type="text"
                      id="addDonationTmp"
                      name="addDonationTmp"
                      class="wz input numOnly"
                      maxlength="8"
                      value="0" />
                  </div>
                  원을 추가로 후원합니다.
                  <p></p>
                </div>
              </div>

              <div class="wpurchase-viewyn">
                <h3>
                  <em>공개여부 <span>(선택)</span></em>
                </h3>
                <div class="viewyn-wrap">
                  <p class="sub-text">
                    서포터 목록에 서포터 이름과 결제 금액이 공개됩니다. 조용히
                    참여하고 싶으시다면, 비공개로 선택해 주세요.
                  </p>
                  <p class="notice-text">
                    커뮤니티, 새소식 댓글 작성 시에는 비공개 여부와 상관없이
                    참여자 표시가 노출됩니다.
                  </p>
                  <div class="inner-wrap">
                    <p class="check-area">
                      <label class="wz checkbox">
                        <input
                          type="checkbox"
                          id="dontShowNameYn"
                          name="dontShowNameYn"
                          value="N" /><span class="nickview">이름 비공개</span>
                      </label>
                      <label class="wz checkbox">
                        <input
                          type="checkbox"
                          id="dontShowAmountYn"
                          name="dontShowAmountYn"
                          value="N" /><span>금액 비공개</span>
                      </label>
                    </p>
                    <ul class="example">
                      <li>
                        <p class="title">이름/금액 공개 예시</p>
                        <dl>
                          <dt>
                            <em
                              style="
                                background-image: url(https://www.wadiz.kr/resources/static/img/sub/icon_account_pstype01.png);
                              "></em>
                          </dt>
                          <dd>홍길동님<br />105,000원 참여하셨습니다.</dd>
                        </dl>
                      </li>
                      <li>
                        <p class="title">이름/금액 비공개 예시</p>
                        <dl>
                          <dt>
                            <em
                              style="
                                background-image: url(https://www.wadiz.kr/resources/static/img/common/img_blank.png);
                              "></em>
                          </dt>
                          <dd>익명의 서포터님이<br />참여하셨습니다.</dd>
                        </dl>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <input name="apid" type="hidden" value="" />
            </form>
            <div class="btn-wrap">
              <p class="confirm">
                개발비 1.5억ㅣ현대리바트 기술력 담아낸 3만원대 발 받침대 Comfy에
                <em id="sumTotalNum">42,000</em> 원을 참여합니다.
              </p>
              <button class="wz button primary" onclick="purchaseNextStep();">
                다음 단계로 <i class="icon chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div id="authMailLypop" class="lypop-fixed" style="display: none">
        <div class="popup-mint-basic">
          <a href="/web/campaign/detail/158604" class="btn-close">
            <em></em>
          </a>
          <div class="popup-mint-text">
            <strong class="tit-popup"
              >프로젝트에 참여하기 위한<br />
              기본 회원 정보를 확인해 주세요.</strong
            >
            <div style="padding: 20px">- 이메일 인증 : 미인증</div>
          </div>
          <div class="btn-wrap">
            <a class="btn-pd-mint" href="/web/waccount/wAuth"
              >기본 회원정보 변경</a
            >
          </div>
        </div>
      </div>

      <div id="footer">
        <div th:replace="/fragment/footer__15kue.html :: footer"></div>

      </div>

      <script>
        window.dispatchEvent(
          new CustomEvent('WadizFooterLoaded', {
            detail: {
              element: document.getElementById('footer'),
            },
          })
        );
      </script>
    </div>
    <div id="wadiz-app-banner"></div>
    <script>
      function sendWebMessage(eventName, options) {
        let localOptioins = options;
        try {
          if (typeof options === 'string') {
            localOptioins = JSON.parse(options);
          }
        } catch (error) {
          localOptioins = null;
        }

        var customEvent = new CustomEvent(eventName, {
          detail: localOptioins,
        });

        document.dispatchEvent(customEvent);
      }

      window.sendWebMessage = sendWebMessage;
    </script>

    <!-- 프로젝트 유형이 프리오더 프로젝트가 아닌경우: 기존과 동일하게 처리 -->
    <div id="rewardNoticeLypop" class="lypop-fixed">
      <div
        class="wz-modal purchase-notice wzui wz-modal-v2 purchase-notice-v2 modal-content-height">
        <div class="modal-main">
          <div class="header">
            <h4 class="title">
              결제 예약 전<br />미리 체크해 보세요<span
                class="emoji"
                aria-hidden="true"
                >👀</span
              >
            </h4>
            <form class="wz-form large" id="reward-notice-form">
              <dl>
                <dt>
                  <label class="wz checkbox">
                    <input
                      class="notice-confirm-checkbox"
                      type="checkbox"
                      name="check1"
                      value="Y"
                      autocomplete="off" />
                    <span
                      >프로젝트가 끝나기 전까지 언제든 결제 예약을 취소할 수
                      있어요.</span
                    >
                    <img
                      src="https://www.wadiz.kr/resources/static/img/common/cancel-payment.svg" />
                  </label>
                </dt>
                <dd>
                  <p>
                    ・ 결제 예정일 : <strong>2023.03.02</strong><br />
                    ・ 취소 가능 기한: ~ <strong>2023.03.01</strong><br />
                    단, 프로젝트가 끝나면 바로 리워드 제작이 시작되기 때문에
                    결제를 취소할 수 없습니다.
                  </p>
                </dd>
                <hr />
                <dt>
                  <label class="wz checkbox">
                    <input
                      class="notice-confirm-checkbox"
                      type="checkbox"
                      name="check1"
                      value="Y"
                      autocomplete="off" />
                    <span
                      >리워드에 문제가 있거나 배송일을 지키지 않으면 환불 받을
                      수 있어요.</span
                    >
                    <img
                      src="https://www.wadiz.kr/resources/static/img/common/refund.svg" />
                  </label>
                </dt>

                <dd class="funding-info">
                  <div
                    id="wz-funding-info-as"
                    class="wz-funding-info-accordion close-accordion">
                    환불 정책 확인
                    <i class="icon expand-more"></i>
                    <i class="icon expand-less"></i>
                  </div>
                  <div
                    class="wz-funding-info-accordion-content funding-info-detail">
                    <div
                      id="funding-refund-policy-guide-app"
                      data-campaign-id="158604">
                      <div class="content">
                        <div class="content">
                          <p class="title-header">
                            프로젝트 스토리에서 소개한 내용과 실제 리워드가
                            다르거나 다른 제품・콘텐츠를 모방하는 지적재산권
                            침해와 같은 문제가 있을 때, 혹은 메이커가 약속한
                            배송일에 참여한 리워드를 받지 못했을 때, 환불 신청할
                            수 있어요.
                          </p>
                          <h3 class="title">환불 안내</h3>
                          <p class="title-desc">
                            환불은
                            <a
                              href="/web/mywadiz/participation/fundinglist"
                              target="_blank"
                              >펀딩 참여 내역</a
                            >에서 신청할 수 있습니다.<br />환불 신청 후 정책에
                            따라 확인 절차를 거쳐 진행되며, 참여한 결제 건을
                            취소하는 방식으로 진행됩니다.<br />자세한 내용은
                            메이커 문의하기 또는 와디즈 고객센터 이용을
                            부탁드립니다.<br /><a
                              href="https://wadiz.channel.io/lounge"
                              target="_blank"
                              style="display: block"
                              >와디즈 고객센터 바로가기 &gt;
                            </a>
                          </p>
                          <h4>1) 리워드가 지연될 경우</h4>
                          <p class="desc">
                            <strong
                              >메이커가 리워드 발송 시작 예정일까지 리워드를
                              발송하지 않을 경우, </strong
                            >서포터는 환불 신청 할 수 있습니다.<br />리워드 별
                            발송 시작 예정일은 다를 수 있으니,
                            <a
                              href="/web/mywadiz/participation/fundinglist"
                              target="_blank"
                              style="text-decoration: underline"
                              >펀딩 참여 내역</a
                            >에서 참여한 리워드의 발송 시작 예정일을
                            확인하세요.<br /><br />
                          </p>
                          <h4>2) 리워드에 하자가 있을 경우</h4>
                          <p class="desc">
                            <strong
                              >서포터가 수령한 리워드가 아래 하자 기준에 해당할
                              경우,</strong
                            >&nbsp; 배송 완료일로부터 14일 이내에 환불 신청 할
                            수 있습니다. 이때 메이커는 하자 판단을 위한
                            증빙자료, 리워드 반송을 서포터에게 요청할 수
                            있습니다.
                          </p>
                          <div class="refundProblemList">
                            <ul>
                              <li>
                                리워드의 품질에 아래와 같은 하자가 발생한 경우
                                <div class="exampleWrap">
                                  <p>예)</p>
                                  <div class="itemList">
                                    <div class="label">공산품, 공예품 등</div>
                                    <div class="example">
                                      제품 흠집, 휨, 백화현상 및 도장 불량, 악취
                                      등 자극성 냄새, 좀 등의 벌레 발생, 균열,
                                      뒤틀림 또는 변색, 녹, 누수, 오염
                                    </div>
                                  </div>
                                  <div class="itemList">
                                    <div class="label">
                                      신발, 의류, 패션 잡화 등
                                    </div>
                                    <div class="example">
                                      봉제 불량, 접착 불량, 염색 불량, 원단
                                      불량(제직, 세탁 후 변색, 탈색, 수축 등),
                                      부자재 불량(단추, 지퍼, 천조각, 실오라기
                                      등), 치수(사이즈)의 부정확
                                    </div>
                                  </div>
                                  <div class="itemList">
                                    <div class="label">
                                      식품, 의약품, 의약외품, 생활위생용품,
                                      화장품 등
                                    </div>
                                    <div class="example">
                                      이물혼입, 함량 부적합, 변질, 부패,
                                      성분이상
                                    </div>
                                  </div>
                                  <div class="itemList">
                                    <div class="label">그 외 품목</div>
                                    <div class="example">
                                      소비자분쟁해결 기준을 따름
                                    </div>
                                  </div>
                                </div>
                              </li>
                              <li>
                                정상적인 사용상태에서 리워드의 기능/성능상
                                오작동 또는 미작동 되는 경우
                              </li>
                              <li>
                                리워드로 인해 아래와 같은 피해를 입은 경우
                                <ul>
                                  <li>
                                    부작용으로 인해 신체상의 피해가 발생한 경우
                                  </li>
                                  <li>
                                    용기 불량, 파손 등으로 인한 상해, 피해사고를
                                    입은 경우
                                  </li>
                                </ul>
                              </li>
                              <li>
                                자세한 하자 환불 기준은&nbsp;<a
                                  href="/web/wterms/funding_refund#3-%ED%8E%80%EB%94%A9%EA%B8%88-%EB%B0%98%ED%99%98-%EA%B8%B0%EC%A4%80"
                                  target="_blank"
                                  rel="nofollow noopener noreferrer"
                                  class="link"
                                  >환불 정책</a
                                >을 확인하세요.
                              </li>
                            </ul>
                          </div>
                          <div class="indent-box">
                            <p class="desc">
                              <strong
                                >단, 아래 어느 하나에 해당될 경우 환불
                                불가합니다.</strong
                              >
                            </p>
                            <ul class="list not-refund-notice">
                              <li>
                                메이커가 프로젝트 페이지 내에 명시적으로 고지한
                                하자 불인정 사유에 해당하는 경우<br />(예) 공장
                                제작 과정상 벌어짐 방지를 위해 봉제되어 제공되는
                                포켓은 하자 사유가 되지 않습니다.
                              </li>
                              <li>
                                서포터의 귀책 사유로 리워드의 일부 혹은 전체가
                                분실/파손/고장/오염/훼손이 발생된 경우
                              </li>
                              <li>
                                모니터 해상도의 차이로 인해 색상이나 이미지가
                                실제와 다른 경우
                              </li>
                              <li>
                                공연, 디지털컨텐츠, 여행 패키지 상품, 무형
                                서비스 및 컨텐츠의 제공이 완료되었을 경우
                              </li>
                            </ul>
                          </div>
                          <h4>3) 기타 주의 사항</h4>
                          <ul class="list etc-notice">
                            <li>
                              크라우드펀딩의 특성상 프로젝트 종료 후 서포터의
                              단순변심으로 인한 환불은 불가합니다.
                            </li>
                            <li>
                              회사는 메이커와 상호 협의 하에 프로젝트를 취소할
                              수 있으며, 펀딩 종료 후 프로젝트가 취소될 경우에는
                              환불됩니다.
                            </li>
                            <li>
                              하자가 있는 경우, 리워드 반송을 위한 배송비는
                              메이커가 부담하여야 하고 하자가 없는 경우에는
                              리워드 반송 및 재반송에 대한 배송비를 서포터에게
                              청구될 수 있습니다.
                            </li>
                          </ul>
                          <div class="moreInfo">
                            ※ 더 자세한 사항은&nbsp;<a
                              href="/web/wterms/funding_refund"
                              target="_blank"
                              rel="nofollow noopener noreferrer"
                              class="link"
                              >환불 정책</a
                            >에서 확인하세요.
                          </div>
                          <hr />
                        </div>
                      </div>
                    </div>
                  </div>
                </dd>

                <hr />
                <dt>
                  <label class="wz checkbox">
                    <input
                      class="notice-confirm-checkbox"
                      type="checkbox"
                      name="check2"
                      value="Y"
                      autocomplete="off" />
                    <span>단순 변심에 의한 환불은 신청할 수 없어요.</span>
                    <img
                      src="https://www.wadiz.kr/resources/static/img/common/change-mind.svg" />
                  </label>
                </dt>
                <dd>
                  <p>
                    펀딩은 일반 쇼핑과 달리 리워드를 만드는 메이커에게 투자하고,
                    투자의 보상으로 제품이나 서비스를 받는 구조이기 때문에
                    전자상거래법상 통신 판매에 해당하지 않아요. 그래서 단순
                    변심을 이유로 한 환불은 신청할 수 없습니다.
                  </p>
                </dd>
              </dl>
            </form>
            <button
              id="btn-continue-funding"
              type="button"
              class="wz button block gray continue"
              onclick="goNextStep();"
              disabled="">
              계속해서 진행하기
            </button>
          </div>
          <button
            class="wz button less back icon-close"
            onclick="closeModal()"></button>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      var $btnConfirmFunding = $('#btn-continue-funding');
      var $rewardNoticeForm = $('#reward-notice-form');
      var $noticeConfirmCheckbox = $(
        '.notice-confirm-checkbox',
        $rewardNoticeForm
      );
      var $btnDetailPolicy = $('#wz-funding-info-as', $rewardNoticeForm);
      alertify.set({
        labels: {
          ok: '확인',
          cancel: '취소',
        },
      });

      <!-- 지지서명 정률 포인트 지급을 위한 queryParam 추출-->
      const getApid = () => {
        const url = new URL(window.location.href);
        const urlParams = url.searchParams;
        return urlParams.get('apid');
      };

      const apid = getApid();
      const apidInput = document.createElement('input');
      apidInput.name = 'apid';
      apidInput.type = 'hidden';
      apidInput.value = apid;
      $('#purchaseForm').append(apidInput);

      <!-- 펀딩 취소/반환 방법 체크 모달의 체크박스 여부(펀딩 구매이력이 있는경우 자동체크) -->
      function initNoticeCheckbox() {
        checkUserHasFundingHistory(function (hasFundingHistory) {
          $noticeConfirmCheckbox.prop('checked', hasFundingHistory);
          validateNoticeCheck();
        });
      }

      <!-- 페이지 로딩 시 호출 -->
      window.onpageshow = function (event) {
        initNoticeCheckbox();
      };

      <!-- 계속해서 펀딩하기 클릭 시 -->
      function goNextStep() {
        try {
          dataLayer.push({
            event: 'funding-ecommerce-checkout2',
            ecommerce: {
              checkout: {
                actionField: {
                  step: 2,
                },
                products: window.rewardList,
              },
            },
          });
        } catch (e) {
          if (e && window.Sentry) {
            Sentry.captureException(e);
          }
        }

        closeModal();
        // $('#purchaseForm').attr('action', '/web/order/step1/3');
        $('#purchaseForm').submit();
      }

      function closeModal() {
        closeLyPop('rewardNotice');
        document.body.style.overflowY = 'auto';

        // 모달 초기화
        initNoticeCheckbox();

        // 펀딩금 반환 정책 더보기 콤보가 열려있는 경우 닫히도록 예외처리
        if (
          $btnDetailPolicy.length > 0 &&
          !$btnDetailPolicy
            .attr('class')
            .split(/\s+/)
            .some((el) => el === 'close-accordion')
        ) {
          $btnDetailPolicy.trigger('click');
        }
      }

      function validateQtyAll(checkedRewards) {
        var isValidate = false;
        for (var index = 0; index < checkedRewards.length; ++index) {
          isValidate = validateQty(checkedRewards[index]);
          if (!isValidate) {
            return isValidate;
          }
        }

        return isValidate;
      }

      // 1개 이하 수량X/잔여수량 내 수량체크/보정처리를 위한 함수
      function validateQty(currentReward) {
        var rewardId = currentReward.dataset.rewardId;
        var remainCnt = $('#remainCnt' + rewardId).val() * 1;
        var isOption = $('#isOption' + rewardId).val();
        var newQtyElement = document.getElementById('qty' + rewardId);
        var newQty = newQtyElement ? Number(newQtyElement.value) : 0;

        if (isOption) {
          var cardLength = document.getElementById('cardLength' + rewardId);
          if (Number(cardLength.value) === 0) {
            wadiz.alert('옵션을 선택해 주세요');
            return false;
          }
        }

        if (newQty < 1) {
          wadiz.alert('1개 이하로 수량을 선택할 수 없습니다.');
          return false;
        }
        if (newQty > remainCnt) {
          wadiz.alert('잔여수량 내에서 수량을 선택해주세요.');
          return false;
        }

        return true;
      }

      $(document).ready(function () {
        // 공지관리 모달의 체크가 될 경우 호출되는 콜백함수
        $noticeConfirmCheckbox.on('change', validateNoticeCheck);

        // if ($.urlParam("mode") == "fail_statebag") {
        // 	wadiz.alert("올바르지 않은 접근입니다.<br/>펀딩하기를 처음부터 다시 진행해주세요.");
        // }

        numOnly();

        /*추가후원금*/
        $('#addDonationTmp').focus(function () {
          if ($('#addDonation').val() == 0) {
            $(this).val('');
          } else {
            $(this).val($('#addDonation').val().format());
          }
        });
        $('#addDonationTmp').keyup(function () {
          setAddDonationField($(this));
        });
        $('#addDonationTmp').blur(function () {
          setAddDonationField($(this));
        });

        // 추가 후원금 입력 시 총 결제금액을 제계산
        function setAddDonationField(obj) {
          var addDonationTmp =
            obj.val() == '' ? 0 : obj.val().replace(/,/g, '') * 1;
          $('#addDonation').val(addDonationTmp);
          $('#addDonationTmp').val(addDonationTmp.format());

          // 총 펀딩금액을 input element value값으로 가져와서 기부후원 그맹과 더해주는 로직을 수행한다.
          var fundingPrice = document.querySelector(
            'input[name="fundingPrice"]'
          );
          var totalCharge = 0;
          if (fundingPrice) {
            totalCharge = Number(fundingPrice.value);
          }

          calculateTotal(totalCharge);
        }

        /*공개여부*/
        $('#dontShowNameYn').change(function () {
          if ($(this).is(':checked')) {
            $(this).val('Y');
          } else {
            $(this).val('N');
          }
        });
        $('#dontShowAmountYn').change(function () {
          if ($(this).is(':checked')) {
            $(this).val('Y');
          } else {
            $(this).val('N');
          }
        });

        // 네이버페이 결제 결과 알림창
        var currentUrl = new URL(window.location.href);
        var naverPayResult = currentUrl.searchParams.get('code');
        if (naverPayResult && naverPayResult !== 'Success') {
          var naverPayResultMessage = currentUrl.searchParams.get('message');

          if (naverPayResultMessage === 'userCancel') {
            wadiz.alert(
              '결제 정보 등록을 취소하셨습니다. 결제 정보를 다시 등록해 주세요.'
            );
          } else {
            wadiz.alert(naverPayResultMessage);
          }
        }

        document.addEventListener('reward-total-change', function (response) {
          calculateTotal(response.detail.totalCharge);
        });

        function responseUpdateUI() {
          var wpurchaseWrapElement = document.querySelector('.wpurchase-wrap');
          if (wpurchaseWrapElement) {
            var isMobileSize = window.innerWidth < 960;
            if (isMobileSize) {
              wpurchaseWrapElement.style.paddingLeft = '16px';
              wpurchaseWrapElement.style.paddingRight = '16px';
            } else {
              wpurchaseWrapElement.style.paddingLeft = '';
              wpurchaseWrapElement.style.paddingRight = '';
            }
          }
        }

        window.addEventListener('resize', responseUpdateUI);
        responseUpdateUI();
      });

      /*전체 총액 계산*/
      function calculateTotal(totalCharge) {
        var fundingPrice = document.querySelector('input[name="fundingPrice"]');
        if (fundingPrice) {
          fundingPrice.value = totalCharge;
        }
        var addDonation = $('#addDonation').val();
        if (addDonation == '') {
          addDonation = 0;
        }
        var sumTotalCharge = totalCharge + addDonation * 1;
        $('#sumTotalNum').html(sumTotalCharge.format());
      }

      /*다음 단계로*/
      function purchaseNextStep() {
        const isPreview = false;
        if (isPreview) return;

        var checkedRewards = document.querySelectorAll(
          "input[id*='checkbox-reward-product']:checked"
        );
        if (checkedRewards.length === 0) {
          wadiz.alert('최소 1개 이상의 리워드를 선택해주세요.');
          return;
        }

        if (!validateQtyAll(checkedRewards)) {
          return;
        }

        var totalSelected = 0;
        var isValidation_memo = true;

        $("#purchaseForm input[name*='choiceRewards']").remove();

        // 리워드 상품 아이템
        for (var idx = 0; idx < checkedRewards.length; ++idx) {
          var currentReward = checkedRewards[idx];
          var rewardId = currentReward.dataset.rewardId;
          var qty = $('#qty' + rewardId).val();
          var amount = $('#amountRw' + rewardId).val();
          var memo = '';
          var optionMemo = '';

          var isOption = $('#isOption' + rewardId).val();
          if (isOption) {
            var $option = $('#memo' + rewardId);
            var optionMemosElement = document.getElementById(
              'optionMemos' + rewardId
            );
            var optionTypeElement = document.getElementById(
              'optionType' + rewardId
            );
            var limitQtyUnitTypeElement = document.getElementById(
              'limitQtyUnitType' + rewardId
            );

            if ($option.length > 0) {
              memo = JSON.parse($option.get(0).value).join('\n');
              memo = memo.trim();
              memo = memo.replace(/"/g, '&#34;');
              memo = memo.replace(/</g, '&lt;');
            }

            if (optionMemosElement) {
              optionMemo = JSON.parse(optionMemosElement.value).join('\n');
              optionMemo = optionMemo.trim();
              optionMemo = optionMemo.replace(/"/g, '&#34;');
              optionMemo = optionMemo.replace(/</g, '&lt;');
            }

            if (!(memo || optionMemo)) {
              isValidation_memo = false;
            }
          }

          var sumAmount = parseInt(amount) * parseInt(qty);
          $('#purchaseForm').append(
            '<input type="hidden" name="choiceRewards[' +
              idx +
              '].rewardId" value="' +
              rewardId +
              '" />'
          );
          $('#purchaseForm').append(
            '<input type="hidden" name="choiceRewards[' +
              idx +
              '].qty" value="' +
              qty +
              '" />'
          );
          $('#purchaseForm').append(
            '<input type="hidden" name="choiceRewards[' +
              idx +
              '].sumAmount" value="' +
              sumAmount +
              '" />'
          );
          if (isOption) {
            $('#purchaseForm').append(
              '<input type="hidden" name="choiceRewards[' +
                idx +
                '].memo" value="' +
                memo +
                '" />'
            );
          }
          $('#purchaseForm').append(
            '<input type="hidden" name="choiceRewards[' +
              idx +
              '].isOption" value="' +
              isOption +
              '" />'
          );
          $('#purchaseForm').append(
            '<input type="hidden" name="choiceRewards[' +
              idx +
              '].optionMemo" value="' +
              optionMemo +
              '" />'
          );

          // 옵션별 제한수량 타입일 경우
          if (
            isOption &&
            optionTypeElement &&
            optionTypeElement.value === 'SELECT' &&
            limitQtyUnitTypeElement &&
            (limitQtyUnitTypeElement.value === 'REWARD' ||
              limitQtyUnitTypeElement.value === 'OPTION')
          ) {
            var rewardOptionsElement = document.getElementById(
              'rewardOptions' + rewardId
            );
            if (rewardOptionsElement) {
              var rewardOptions = JSON.parse(rewardOptionsElement.value);
              for (var i = 0; i < rewardOptions.length; ++i) {
                $('#purchaseForm').append(
                  '<input type="hidden" name="choiceRewards[' +
                    idx +
                    '].choiceRewardOptions[' +
                    i +
                    '].rewardOptionId" value="' +
                    rewardOptions[i].rewardOptionId +
                    '" />'
                );
                $('#purchaseForm').append(
                  '<input type="hidden" name="choiceRewards[' +
                    idx +
                    '].choiceRewardOptions[' +
                    i +
                    '].qty" value="' +
                    rewardOptions[i].quantity +
                    '" />'
                );
              }
            }
          }

          totalSelected++;
        }

        var errorMessage;
        if (!isValidation_memo) {
          errorMessage =
            '선택한 리워드 중 입력이 필요한 리워드가 있습니다.\n옵션을 입력한 후 다시 시도해 주세요.';
        }

        for (var idx = 0; idx < checkedRewards.length; ++idx) {
          var currentReward = checkedRewards[idx];
          var rewardId = currentReward.dataset.rewardId;
          var isOption = $('#isOption' + rewardId).val();
          var $option = $('#memo' + rewardId);
          var rewardOptionsElement = document.getElementById(
            'rewardOptions' + rewardId
          );

          if (isOption && ($option.length > 0 || rewardOptionsElement)) {
            var memos = [];
            if ($option.length > 0) {
              memos = JSON.parse($option.get(0).value);
            } else {
              memos = JSON.parse(rewardOptionsElement.value).map(function (
                item
              ) {
                return item.optionValue;
              });
            }
            for (var index = 0; index < memos.length; ++index) {
              var memo = memos[index];
              if (memo.trim().length == 0) {
                errorMessage =
                  '선택한 리워드 중 설정되지 않은 옵션이 있습니다. \n옵션을 설정한 후 다시 시도해 주세요.';
              }

              if (isContainsEmoji(memos[index])) {
                errorMessage = '리워드 옵션은 한글, 영문, 숫자만 입력해주세요.';
              }
            }
          }
        }

        if (errorMessage) {
          wadiz.alert(errorMessage);
          return;
        } else {
          showLyPop('rewardNotice');
          document.body.style.overflowY = 'hidden';
          const purchaseForm = $('#purchaseForm')[0];
          // GA 등록을 위한 펀딩리스트
          window.rewardList = Array.from(purchaseForm).reduce((acc, crr) => {
            const name = crr.name;
            if (name.indexOf('choiceRewards') > -1) {
              let newObject = {};
              const splitData = name.split('.');
              const choiceRewardsIndex = parseInt(
                splitData[0].match(/[0-9]/g)[0],
                10
              );
              const key = splitData[1];

              if (!acc[choiceRewardsIndex]) {
                newObject.id = '158604';
                newObject.name =
                  '\uAC1C\uBC1C\uBE44 1.5\uC5B5\u3163\uD604\uB300\uB9AC\uBC14\uD2B8 \uAE30\uC220\uB825  \uB2F4\uC544\uB0B8 3\uB9CC\uC6D0\uB300 \uBC1C \uBC1B\uCE68\uB300 Comfy';
                newObject.category = '\uD648\u00B7\uB9AC\uBE59';
                newObject.brand = '\uD604\uB300\uB9AC\uBC14\uD2B8';
                acc[choiceRewardsIndex] = newObject;
              }

              if (key === 'rewardId') {
                acc[choiceRewardsIndex].variant = crr.value;
              }

              if (key === 'qty') {
                acc[choiceRewardsIndex].quantity = crr.value;
              }

              if (key === 'sumAmount') {
                acc[choiceRewardsIndex].price =
                  crr.value / acc[choiceRewardsIndex].quantity;
              }
            }
            return acc;
          }, []);

          try {
            dataLayer.push({
              event: 'funding-ecommerce-checkout1',
              ecommerce: {
                checkout: {
                  actionField: {
                    step: 1,
                  },
                  products: window.rewardList,
                },
              },
            });
          } catch (e) {
            if (e && window.Sentry) {
              Sentry.captureException(e);
            }
          }

        }
      }

      /*숫자 타입에서 쓸 수 있도록 format() 함수 추가*/
      Number.prototype.format = function () {
        if (this == 0) return 0;
        var reg = /(^[+-]?\d+)(\d{3})/;
        var n = this + '';
        while (reg.test(n)) n = n.replace(reg, '$1' + ',' + '$2');
        return n;
      };

      /* 문자열 타입에서 쓸 수 있도록 format() 함수 추가*/
      String.prototype.format = function () {
        var num = parseFloat(this);
        if (isNaN(num)) return '0';
        return num.format();
      };

      //리워드 공지(체크여부 확인/계속해서 펀딩하기 버튼 활성화/비활성화)
      function validateNoticeCheck() {
        var isValid =
          $noticeConfirmCheckbox.length ===
          $noticeConfirmCheckbox.filter(':checked').length;
        $btnConfirmFunding.prop('disabled', !isValid);

        if (isValid) {
          $btnConfirmFunding.removeClass('gray');
          $btnConfirmFunding.addClass('primary');
        } else {
          $btnConfirmFunding.addClass('gray');
          $btnConfirmFunding.removeClass('primary');
        }
      }

      // 이전 펀딩을 했는지 여부를 체크하기 위한 함수(펀딩 취소/반환 공지를 미리 체크해주기 위한 로직)
      function checkUserHasFundingHistory(hasFundingHistoryCallback) {
        $.ajax({ method: 'get', url: '/web/apip/funding/fundings/qty/my' })
          .then(function (response) {
            hasFundingHistoryCallback(response.data >= 1);
          })
          .fail(function (error) {
            hasFundingHistoryCallback(false);
          });
      }
    </script>
    <input type="hidden" id="gaUserId" value="6059495" />

    <style>
      .ab-iam-root.v3 {
        z-index: 9999;
      }
    </style>

    <div id="floating-buttons-app">
      <div class="FloatingButtons_container__2VDUa">
        <button
          type="button"
          class="FloatingTopButton_pageTop__2vt6t FloatingTopButton_visible__3h8Ak"
          title="위로 이동">
          <svg
            viewBox="0 0 40 40"
            focusable="false"
            role="presentation"
            class="withIcon_icon__24D_5"
            aria-hidden="true">
            <path
              d="M33 30l-1.4 1.4L20 19.8 8.4 31.4 7 30l13-13zm1-21H6v2h28z"></path>
          </svg></button
        ><button
          type="button"
          data-ga-category="공통_최근본_UI"
          data-ga-action="클릭"
          data-ga-label=""
          class="RecentView_container__5Nxua"
          aria-label="최근본"
          style="display: none">
          <div
            aria-hidden="true"
            class="RecentView_thumbnail__107ZW CardThumbnail_thumbnail__sw2ym CardThumbnail_visible__1ZiAB CardThumbnail_noanimation__3qJay"
            style="
              background-image: url('https://cdn.wadiz.kr/wwwwadiz/green001/2023/0215/20230215095501924_158604.jpg/wadiz/resize/180/format/jpg/quality/85/');
            "></div>
        </button>
      </div>
    </div>
    <script>

      $(document).ready(function (){

        $('.RewardProductItem_label__2t2Wd').click(function (){
          console.log("체크박스 클릭");
          if($(this).find('.Checkbox_input__YDTIS').is(':checked')){
            console.log("체크 확인");
            $('.RewardProductItem_option__3BtOP').show();
          }else{
            $('.RewardProductItem_option__3BtOP').hide();
          }
          $('.SelectMenu_title__2__qX').on('click', function (event) {
            event.stopImmediatePropagation(); // 이벤트 버블링을 막기 위해 추가
            console.log('리스트 클릭');
            if ($(this).hasClass('SelectMenu_expand__3_pBj')) {
              $(this).removeClass('SelectMenu_expand__3_pBj');
              $(this).siblings('.SelectMenu_content__2rDch').hide();
            } else {
              $(this).addClass('SelectMenu_expand__3_pBj');
              $(this).siblings('.SelectMenu_content__2rDch').show();
            }
          });
          $('.RewardProductOption_list__3yoqJ').click(function (event){
            event.stopImmediatePropagation();
            $(this).closest('.SelectMenu_content__2rDch').siblings('.SelectMenu_title__2__qX').find('.SelectMenu_placeholder__3X3SL').text($(this).find('.RewardProductOptionItem_title__ZuGtV').text());
            $(this).closest('.SelectMenu_content__2rDch').siblings('.SelectMenu_title__2__qX').removeClass('SelectMenu_expand__3_pBj');
            $(this).closest('.SelectMenu_content__2rDch').hide();

            var card = '<li class="RewardProductItem_item__3va6f"><section aria-label="[선착순 4P] 아쿠아웨이브 4개 상품 카드" class="RewardProductCard_container__3N2S2"><div><div class="RewardProductCard_title__32DP6"><div class="RewardProductCard_name__1Mz6S"><div><span>토마토레드 4</span></div></div><button type="button" class="RewardProductCard_cancel__3PE3x" aria-label="삭제 버튼"><svg viewBox="0 0 48 48" focusable="false" role="presentation" class="withIcon_icon__2cPeY" aria-hidden="true"><path d="M24 3.6C12.733 3.6 3.6 12.733 3.6 24S12.733 44.4 24 44.4 44.4 35.267 44.4 24 35.267 3.6 24 3.6zm9.252 27.948l-1.704 1.704L24 25.692l-7.548 7.56-1.704-1.704L22.308 24l-7.56-7.548 1.704-1.704L24 22.308l7.548-7.56 1.704 1.704L25.692 24l7.56 7.548z"></path></svg></button></div></div><div class="RewardProductCard_content__2wx8s"><div class="RewardProductCard_quantity__2CSmq"><div class="ProductQuantity_container__1_106"><button type="button" aria-label="감소 버튼" disabled="" class="ProductQuantity_minusButton__22tR8"></button><input type="text" aria-label="수량 입력" data-testid="quantity" value="1"><button type="button" aria-label="증가 버튼" class="ProductQuantity_plusButton__2TJ7g"></button></div><p class="RewardProductCard_price__3t1PE">68,400원</p></div></div></section></li>';
            $(this).closest('.RewardProductItem_option__3BtOP').siblings('ul').append(card);

          })
        });



      })

    </script>

  </body>
</html>
